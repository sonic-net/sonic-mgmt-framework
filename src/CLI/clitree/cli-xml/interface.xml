<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE CLISH_MODULE [
<!ENTITY START_PORT_ID "1">
<!ENTITY MAX_PORT_ID "32">
<!ENTITY START_SUB_PORT_ID "1">
<!ENTITY MAX_SUB_PORT_ID "4">
<!ENTITY MAX_MTU "9276">
]>
<CLISH_MODULE xmlns="http://www.dellemc.com/sonic/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xi="http://www.w3.org/2001/XInclude" xsi:schemaLocation="http://www.dellemc.com/sonic/XMLSchema http://www.dellemc.com/sonic/XMLSchema/clish.xsd">
  <VIEW name="enable-view">
    <!--show interface Ethernet <id> -->
    <COMMAND name="show interface" help="Show Interface info">
      <PARAM name="if-subcommands" help="Interface subcommands" mode="switch" ptype="SUBCOMMAND">
        <PARAM name="counters" help="Counters for Physical Interfaces" ptype="SUBCOMMAND" mode="subcommand"> </PARAM>
        <PARAM name="Ethernet" help="Physical Interface" ptype="SUBCOMMAND" mode="subcommand">
          <PARAM name="phy-if-id" help="Physical interface(Multiples of 4)" ptype="UINT" optional="true"> </PARAM>
        </PARAM>
        <PARAM name="status" help="Physical interfaces status" ptype="SUBCOMMAND" mode="subcommand"> </PARAM>
      </PARAM>
      <ACTION> if test "${if-subcommands}" = "status"; then
 python $SONIC_CLI_ROOT/sonic-cli-if.py get_openconfig_interfaces_interfaces show_interface_status.j2
 elif test "${if-subcommands}" = "counters"; then
 python $SONIC_CLI_ROOT/sonic-cli-if.py get_openconfig_interfaces_interfaces show_interface_counters.j2
 else
 if test "${phy-if-id}" = ""; then
 python $SONIC_CLI_ROOT/sonic-cli-if.py get_openconfig_interfaces_interfaces show_interface.j2
 else
 python $SONIC_CLI_ROOT/sonic-cli-if.py get_openconfig_interfaces_interfaces_interface Ethernet${phy-if-id} show_interface_id.j2
 fi
 fi </ACTION>
      <xi:include href="include/pipe.xml"/>
    </COMMAND>
  </VIEW>
  <VIEW name="configure-view">
    <COMMAND name="interface" help="Select an interface" view="configure-if-view" viewid="iface=Ethernet${phy-if-name}">
      <PARAM name="Ethernet" help="Interface commands" mode="subcommand" ptype="SUBCOMMAND">
        <PARAM name="phy-if-name" help="Physical interface(Multiples of 4)" ptype="UINT" view="configure-if-view" viewid="iface=Ethernet${phyifname}"/>
      </PARAM>
      <ACTION builtin="clish_nop"/>
    </COMMAND>
  </VIEW>
  <VIEW name="configure-if-view" prompt="${SYSTEM_NAME}(conf-if-${iface})# " depth="2">
    <NAMESPACE ref="hidden-view" help="false" completion="false"/>
    <NAMESPACE ref="enable-view" help="false" completion="false"/>
    <NAMESPACE ref="enable-view" help="true" prefix="do" completion="true"/>
    <COMMAND name="exit" help="Exit from current mode" lock="false">
            	  <ACTION builtin="clish_nested_up"/>
  </COMMAND>
    <COMMAND name="end" help="Exit to the exec Mode" view="enable-view"/>
    <!-- Inheritance -->
    <NAMESPACE ref="configure-view" help="false" completion="false"/>
    <COMMAND name="no" help="Negate a command or set its defaults"/>
    <COMMAND name="shutdown" help="Disable the interface">
      <ACTION>python $SONIC_CLI_ROOT/sonic-cli-if.py patch_openconfig_interfaces_interfaces_interface_config_enabled ${iface} False </ACTION>
    </COMMAND>
    <COMMAND name="no shutdown" help="Enable the interface">
      <ACTION>python $SONIC_CLI_ROOT/sonic-cli-if.py patch_openconfig_interfaces_interfaces_interface_config_enabled ${iface} True </ACTION>
    </COMMAND>
    <COMMAND name="description" help="Textual description">
      <PARAM name="desc" help="Textual description of the interface" ptype="STRING"/>
      <ACTION>python $SONIC_CLI_ROOT/sonic-cli-if.py patch_openconfig_interfaces_interfaces_interface_config_description ${iface} ${desc} </ACTION>
    </COMMAND>
    <COMMAND name="no description" help="Remove description">
      <ACTION>python $SONIC_CLI_ROOT/sonic-cli-if.py patch_openconfig_interfaces_interfaces_interface_config_description ${iface} "" </ACTION>
    </COMMAND>
    <COMMAND name="mtu" help="Configure MTU">
      <PARAM name="mtu" help="MTU of the interface" ptype="RANGE_MTU"/>
      <ACTION>python $SONIC_CLI_ROOT/sonic-cli-if.py patch_openconfig_interfaces_interfaces_interface_config_mtu ${iface} ${mtu} </ACTION>
    </COMMAND>
    <COMMAND name="no mtu" help="Remove MTU">
      <ACTION>python $SONIC_CLI_ROOT/sonic-cli-if.py patch_openconfig_interfaces_interfaces_interface_config_mtu ${iface} 9100 </ACTION>
    </COMMAND>
    <COMMAND name="sflow" help="enable sflow">
      <PARAM name="sampling-rate" help="sFlow sampling rate" ptype="SUBCOMMAND" mode="subcommand" optional="true">
      	<PARAM name="rate" help="sampling rate" ptype="UINT"/>
      </PARAM>
      <PARAM name="admin-status" help="sFlow status for interface" ptype="SUBCOMMAND" mode="subcommand" optional="true">
      </PARAM>
      <ACTION builtin="clish_nop"/>
    </COMMAND>
    <COMMAND name="no sflow" help="disable sflow">
      <ACTION builtin="clish_nop"/>
    </COMMAND>
  </VIEW>
</CLISH_MODULE>
